{% extends 'base.html' %}
{% load static %}
{% load message_card_filters %}

{% block title %}My Medical Passport - Celio{% endblock %}

{% block extra_head %}
<script src="https://unpkg.com/htmx.org@1.9.10"></script>
<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
{% endblock %}

{% block content %}
<div class="min-h-screen py-8 flex items-center justify-center px-4">
    <div class="w-full max-w-md">
        <div id="card-preview-container">
            {% include "emergency_cards/partials/editable_card.html" %}
        </div>
    </div>
</div>

<script>
    document.body.addEventListener('htmx:afterSwap', function (event) {
        if (event.detail.target.id === 'card-preview-container') {
            console.log('Card updated successfully');
        }
    });
</script>
{% endblock %}